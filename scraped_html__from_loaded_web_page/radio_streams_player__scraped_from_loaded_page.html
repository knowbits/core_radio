<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>NRK Radio - High Resolution Streams</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">

  <style>
    :root {
      /* Some HTML colours here:
       * https://html-color.codes/color-chart
       */
      --button-colour-stopped: none;
      --button-colour-playing: none;
      --button-border-colour-inactive: #ECF0F1;
      /* Bright Gray */
      /* Bright Gray */
      --button-border-colour-active: Coral;
      --background-colour: #262626;
      --text-colour: #ECF0F1;
      /* Bright Gray */
    }

    /* Add new CSS classes for button states */
    .button-stopped {
      background-color: var(--button-colour-stopped);
      border-color: var(--button-border-colour-inactive);
    }

    .button-playing {
      background-color: var(--button-colour-playing);
      border-color: var(--button-border-colour-active);
    }

    * {
      /* Set colour of all text: */
      color: var(--text-colour);
    }

    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: var(--background-colour);
    }

    header {
      display: flex;
      align-items: baseline;
    }

    h1 {
      font-size: 2em;
      font-weight: 100;
      margin-right: 10px;
    }

    h2 {
      font-size: 0.7em;
      font-weight: 100;
    }

    .player {
      margin-bottom: 20px;
    }

    button {
      padding: 10px 20px;
      margin: 5px;
      border: 2px solid var(--button-border-colour-inactive);
      border-radius: 10px;
      background-color: var(--button-colour-stopped);
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
  </style>
</head>

<body>

  <main>
    <section>
      <header>
        <h1>NRK Radio</h1>
        <h2>(high resolution streams - AAC)</h2>
      </header>
      <div id="playerContainerNO"><audio class="player"><source src="http://lyd.nrk.no/nrk_radio_p1_ostlandssendingen_aac_h" type="audio/aac"></audio><button title="http://lyd.nrk.no/nrk_radio_p1_ostlandssendingen_aac_h">P1</button><audio class="player"><source src="http://lyd.nrk.no/nrk_radio_p1pluss_aac_h" type="audio/aac"></audio><button title="http://lyd.nrk.no/nrk_radio_p1pluss_aac_h">P1+</button><audio class="player"><source src="http://lyd.nrk.no/nrk_radio_p13_aac_h" type="audio/aac"></audio><button title="http://lyd.nrk.no/nrk_radio_p13_aac_h">P13</button><audio class="player"><source src="https://lyd.nrk.no/nrk_radio_p2_aac_h" type="audio/aac"></audio><button title="https://lyd.nrk.no/nrk_radio_p2_aac_h">P2</button><audio class="player"><source src="http://lyd.nrk.no/nrk_radio_p3_aac_h" type="audio/aac"></audio><button title="http://lyd.nrk.no/nrk_radio_p3_aac_h">P3</button><audio class="player"><source src="https://lyd.nrk.no/nrk_radio_jazz_aac_h" type="audio/aac"></audio><button title="https://lyd.nrk.no/nrk_radio_jazz_aac_h">Jazz</button><audio class="player"><source src="http://lyd.nrk.no/nrk_radio_klassisk_aac_h" type="audio/aac"></audio><button title="http://lyd.nrk.no/nrk_radio_klassisk_aac_h">Klassisk</button><audio class="player"><source src="https://lyd.nrk.no/nrk_radio_folkemusikk_aac_h" type="audio/aac"></audio><button title="https://lyd.nrk.no/nrk_radio_folkemusikk_aac_h">Folkemusikk</button><audio class="player"><source src="http://lyd.nrk.no/nrk_radio_alltid_nyheter_aac_h" type="audio/aac"></audio><button title="http://lyd.nrk.no/nrk_radio_alltid_nyheter_aac_h">Alltid nyheter</button><audio class="player"><source src="https://lyd.nrk.no/nrk_radio_mp3_aac_h" type="audio/aac"></audio><button title="https://lyd.nrk.no/nrk_radio_mp3_aac_h">mp3</button><audio class="player"><source src="https://lyd.nrk.no/nrk_radio_sport_aac_h" type="audio/aac"></audio><button title="https://lyd.nrk.no/nrk_radio_sport_aac_h">Sport</button></div>
    </section>

    <section>
      <header>
        <h1>SR Radio</h1>
        <h2>(high resolution streams - AAC)</h2>
      </header>
      <div id="playerContainerSE"><audio class="player"><source src="https://sverigesradio.se/topsy/direkt/132-hi-aac" type="audio/aac"></audio><button title="https://sverigesradio.se/topsy/direkt/132-hi-aac">P1</button><audio class="player"><source src="https://sverigesradio.se/topsy/direkt/2562-hi-aac" type="audio/aac"></audio><button title="https://sverigesradio.se/topsy/direkt/2562-hi-aac">P2</button><audio class="player"><source src="https://sverigesradio.se/topsy/direkt/164-hi-aac" type="audio/aac"></audio><button title="https://sverigesradio.se/topsy/direkt/164-hi-aac">P3</button><audio class="player"><source src="https://sverigesradio.se/topsy/direkt/204-hi-aac" type="audio/aac"></audio><button title="https://sverigesradio.se/topsy/direkt/204-hi-aac">P4 VÃ¤rmland</button><audio class="player"><source src="https://sverigesradio.se/topsy/direkt/4951-hi-aac" type="audio/aac"></audio><button title="https://sverigesradio.se/topsy/direkt/4951-hi-aac">P4 Plus</button></div>
    </section>

    <section>
      <header>
        <h1>DR Radio</h1>
        <h2>(high resolution streams - MP3)</h2>
      </header>
      <div id="playerContainerDK"><audio class="player"><source src="http://live-icy.dr.dk/A/A03H.mp3" type="audio/mpeg"></audio><button title="http://live-icy.dr.dk/A/A03H.mp3">P1</button><audio class="player"><source src="http://live-icy.dr.dk/A/A04H.mp3" type="audio/mpeg"></audio><button title="http://live-icy.dr.dk/A/A04H.mp3">P2</button><audio class="player"><source src="http://live-icy.dr.dk/A/A05H.mp3" type="audio/mpeg"></audio><button title="http://live-icy.dr.dk/A/A05H.mp3">P3</button><audio class="player"><source src="http://live-icy.dr.dk/A/A08H.mp3" type="audio/mpeg"></audio><button title="http://live-icy.dr.dk/A/A08H.mp3">P4 Kbh</button></div>
    </section>
  </main>


  <script>


    // NRK uses "Icecast Streaming Media Server"

    let currentAudio = null;
    let currentButton = null;

    const handleButtonClick = (button, audio, stream) => {
      if (currentAudio && currentAudio !== audio) {
        currentAudio.pause();
        currentButton.classList.remove("button-playing");
        currentButton.classList.add("button-stopped");
      }

      if (audio.paused) {
        /* The HTML5 "audio" element automatically buffers audio.
         * To ensure that the playing stream is always live
         * => force a reload of the audio element
         *    when the play button is pressed:
         */
        audio.load();
        audio.play();
        button.classList.remove("button-stopped");
        button.classList.add("button-playing");
        currentAudio = audio;
        currentButton = button;
      } else {
        audio.pause();
        button.classList.remove("button-playing");
        button.classList.add("button-stopped");
        audio.src = stream.url;
        audio.load();
        if (currentButton === button) {
          currentAudio = null;
          currentButton = null;
        }
      }
    }


      // Get all buttons
      const buttons = document.getElementsByTagName('button');

      // Loop through buttons and add event listener
      for (let i = 0; i < buttons.length; i++) {
        const audio = buttons[i].previousElementSibling;
        const url = buttons[i].getAttribute("title");

        // Check if the URL is not undefined or empty
        if (url) {
          buttons[i].addEventListener("click", function () {
            handleButtonClick(this, audio, url);
          });
        } else {
          console.error(`Button ${i} does not have a valid URL`);
        }
      }

  </script>




</body></html>
